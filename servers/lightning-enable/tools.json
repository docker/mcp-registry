[
  {
    "name": "pay_invoice",
    "description": "Pay a Lightning invoice directly and get the preimage as proof of payment",
    "arguments": [
      {
        "name": "invoice",
        "type": "string",
        "desc": "BOLT11 Lightning invoice string to pay"
      },
      {
        "name": "max_sats",
        "type": "integer",
        "desc": "Maximum satoshis allowed to pay (default: 1000)"
      }
    ]
  },
  {
    "name": "check_wallet_balance",
    "description": "Check the connected Lightning wallet balance in satoshis",
    "arguments": []
  },
  {
    "name": "get_payment_history",
    "description": "List recent Lightning payments made during this session",
    "arguments": [
      {
        "name": "limit",
        "type": "integer",
        "desc": "Maximum number of payments to return (default: 10)"
      }
    ]
  },
  {
    "name": "get_budget_status",
    "description": "View current spending limits, session spending, and budget status",
    "arguments": []
  },
  {
    "name": "access_l402_resource",
    "description": "Fetch a URL with automatic L402 payment handling. Requires L402 license (6,000 sats one-time)",
    "arguments": [
      {
        "name": "url",
        "type": "string",
        "desc": "The URL to fetch"
      },
      {
        "name": "method",
        "type": "string",
        "desc": "HTTP method: GET, POST, PUT, DELETE (default: GET)"
      },
      {
        "name": "headers",
        "type": "string",
        "desc": "Optional headers as JSON object"
      },
      {
        "name": "body",
        "type": "string",
        "desc": "Optional request body for POST/PUT"
      },
      {
        "name": "max_sats",
        "type": "integer",
        "desc": "Maximum satoshis to pay for L402 challenge (default: 1000)"
      }
    ]
  },
  {
    "name": "pay_l402_challenge",
    "description": "Manually pay an L402 invoice and get authorization token. Requires L402 license (6,000 sats one-time)",
    "arguments": [
      {
        "name": "invoice",
        "type": "string",
        "desc": "BOLT11 invoice string from L402 challenge"
      },
      {
        "name": "macaroon",
        "type": "string",
        "desc": "Base64-encoded macaroon from L402 challenge"
      },
      {
        "name": "max_sats",
        "type": "integer",
        "desc": "Maximum satoshis allowed for this payment (default: 1000)"
      }
    ]
  },
  {
    "name": "get_all_balances",
    "description": "Get all currency balances from wallet (USD, BTC, etc.). Works best with Strike wallet",
    "arguments": []
  },
  {
    "name": "exchange_currency",
    "description": "Exchange currency within wallet (USD to BTC or vice versa). Strike wallet only",
    "arguments": [
      {
        "name": "sourceCurrency",
        "type": "string",
        "desc": "Currency to convert from: USD or BTC"
      },
      {
        "name": "targetCurrency",
        "type": "string",
        "desc": "Currency to convert to: BTC or USD"
      },
      {
        "name": "amount",
        "type": "number",
        "desc": "Amount in source currency"
      }
    ]
  },
  {
    "name": "get_btc_price",
    "description": "Get the current Bitcoin price in USD. Strike wallet only",
    "arguments": []
  },
  {
    "name": "create_invoice",
    "description": "Create a Lightning invoice to receive a payment",
    "arguments": [
      {
        "name": "amountSats",
        "type": "integer",
        "desc": "Amount to receive in satoshis"
      },
      {
        "name": "memo",
        "type": "string",
        "desc": "Optional description/memo for the invoice"
      },
      {
        "name": "expirySecs",
        "type": "integer",
        "desc": "Invoice expiry time in seconds (default: 3600)"
      }
    ]
  },
  {
    "name": "check_invoice_status",
    "description": "Check if a Lightning invoice has been paid",
    "arguments": [
      {
        "name": "invoiceId",
        "type": "string",
        "desc": "The invoice ID returned from create_invoice"
      }
    ]
  }
]
