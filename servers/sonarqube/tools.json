[
  {
    "name": "analyze_code_snippet",
    "description": "Analyze a file or code snippet to identify code quality and security issues. Always pass the complete file content for accurate analysis. Optionally provide a code snippet to filter issues - only issues within the snippet will be reported (snippet location is auto-detected). Specify the language to improve analysis accuracy.",
    "arguments": [
      {
        "name": "projectKey",
        "type": "string",
        "desc": "The SonarQube project key"
      },
      {
        "name": "fileContent",
        "type": "string",
        "desc": "Complete file content to analyze"
      },
      {
        "name": "codeSnippet",
        "type": "string",
        "desc": "Code snippet to filter issues - must match content within fileContent"
      },
      {
        "name": "language",
        "type": "array",
        "desc": "Language of the code (e.g., 'java', 'python', 'js')"
      },
      {
        "name": "scope",
        "type": "array",
        "desc": "Scope of the file: MAIN or TEST (default: MAIN)"
      }
    ]
  },
  {
    "name": "analyze_file_list",
    "description": "Analyze files in the current working directory using SonarQube for IDE",
    "arguments": [
      {
        "name": "file_absolute_paths",
        "type": "array",
        "desc": "List of absolute file paths to analyze"
      }
    ]
  },
  {
    "name": "toggle_automatic_analysis",
    "description": "Enable or disable SonarQube for IDE automatic analysis",
    "arguments": [
      {
        "name": "enabled",
        "type": "boolean",
        "desc": "Enable or disable the automatic analysis"
      }
    ]
  },
  {
    "name": "search_sonar_issues_in_projects",
    "description": "Search for issues (bugs, vulnerabilities, code smells) in my organization's projects. Filter by severities=['HIGH','BLOCKER'] for critical issues, impactSoftwareQualities=['SECURITY'] for security, issueStatuses=['OPEN'] to exclude resolved.",
    "arguments": [
      {
        "name": "projects",
        "type": "array",
        "desc": "An optional list of Sonar projects to look in"
      },
      {
        "name": "files",
        "type": "array",
        "desc": "An optional list of component keys (files, directories, modules) to filter issues"
      },
      {
        "name": "pullRequestId",
        "type": "string",
        "desc": "The identifier of the Pull Request to look in"
      },
      {
        "name": "severities",
        "type": "array",
        "desc": "An optional list of severities to filter by"
      },
      {
        "name": "impactSoftwareQualities",
        "type": "array",
        "desc": "An optional list of software qualities to filter by"
      },
      {
        "name": "issueStatuses",
        "type": "array",
        "desc": "An optional list of issue statuses to filter by. Note: IN_SANDBOX is valid only for SonarQube Server"
      },
      {
        "name": "issueKey",
        "type": "array",
        "desc": "An optional list of issue keys to fetch specific issues"
      },
      {
        "name": "p",
        "type": "number",
        "desc": "An optional page number. Defaults to 1."
      },
      {
        "name": "ps",
        "type": "number",
        "desc": "An optional page size. Must be greater than 0 and less than or equal to 500. Defaults to 100."
      }
    ]
  },
  {
    "name": "change_sonar_issue_status",
    "description": "Change the status of an issue. This tool can be used to change the status of an issue to \"accept\", \"falsepositive\" or to \"reopen\" an issue. An example request could be: I would like to accept the issue having the key \"AX-HMISMFixnZED\"",
    "arguments": [
      {
        "name": "key",
        "type": "string",
        "desc": "The key of the issue which status should be changed"
      },
      {
        "name": "status",
        "type": "array",
        "desc": "The new status of the issue"
      }
    ]
  },
  {
    "name": "search_my_sonarqube_projects",
    "description": "Find SonarQube projects in your organization. Supports searching by project name or key. Use this first when projectKey is unknown - most other tools require the project key from this response.",
    "arguments": [
      {
        "name": "page",
        "type": "string",
        "desc": "An optional page number. Defaults to 1."
      },
      {
        "name": "pageSize",
        "type": "number",
        "desc": "An optional page size. Must be greater than 0 and less than or equal to 500. Defaults to 500."
      },
      {
        "name": "q",
        "type": "string",
        "desc": "An optional search query to filter projects by name (partial match) or key (exact match)."
      }
    ]
  },
  {
    "name": "search_security_hotspots",
    "description": "Search for Security Hotspots in a project.",
    "arguments": [
      {
        "name": "projectKey",
        "type": "string",
        "desc": "The key of the project or application to search in. Required unless hotspotKeys is provided."
      },
      {
        "name": "hotspotKeys",
        "type": "array",
        "desc": "Comma-separated list of specific Security Hotspot keys to retrieve. Required unless projectKey is provided."
      },
      {
        "name": "pullRequest",
        "type": "string",
        "desc": "The identifier of the Pull Request to search in"
      },
      {
        "name": "files",
        "type": "array",
        "desc": "An optional list of file paths to filter Security Hotspots"
      },
      {
        "name": "status",
        "type": "array",
        "desc": "Filter by review status"
      },
      {
        "name": "resolution",
        "type": "array",
        "desc": "Filter by resolution (when status is REVIEWED)"
      },
      {
        "name": "sinceLeakPeriod",
        "type": "boolean",
        "desc": "If true, only Security Hotspots created since the leak period (new code period) are returned"
      },
      {
        "name": "onlyMine",
        "type": "boolean",
        "desc": "If true, only Security Hotspots assigned to the current user are returned"
      },
      {
        "name": "p",
        "type": "number",
        "desc": "An optional page number. Defaults to 1."
      },
      {
        "name": "ps",
        "type": "number",
        "desc": "An optional page size. Must be greater than 0 and less than or equal to 500. Defaults to 100."
      }
    ]
  },
  {
    "name": "show_security_hotspot",
    "description": "Get detailed information about a specific Security Hotspot, including rule details, code context, flows, and comments.",
    "arguments": [
      {
        "name": "hotspotKey",
        "type": "string",
        "desc": "The key of the Security Hotspot to retrieve"
      }
    ]
  },
  {
    "name": "change_security_hotspot_status",
    "description": "Change the status of a Security Hotspot to review it. When marking as REVIEWED, you must specify a resolution.\n- TO_REVIEW: Mark the Security Hotspot as needing review\n- REVIEWED: Mark the Security Hotspot as reviewed with one of these resolutions:\n  * FIXED: A fix has been implemented\n  * SAFE: Reviewed and determined to be safe\n  * ACKNOWLEDGED: Acknowledged as a risk but accepted\nYou can optionally add a comment to explain your review decision.",
    "arguments": [
      {
        "name": "hotspotKey",
        "type": "string",
        "desc": "The key of the Security Hotspot to update"
      },
      {
        "name": "status",
        "type": "array",
        "desc": "The new status of the Security Hotspot"
      },
      {
        "name": "resolution",
        "type": "array",
        "desc": "The resolution when status is REVIEWED. Required if status is REVIEWED"
      },
      {
        "name": "comment",
        "type": "string",
        "desc": "An optional comment explaining the review decision"
      }
    ]
  },
  {
    "name": "list_quality_gates",
    "description": "List all quality gates.",
    "arguments": []
  },
  {
    "name": "get_project_quality_gate_status",
    "description": "Get the Quality Gate Status for a project. Either 'analysisId', 'projectId' or 'projectKey' must be provided.",
    "arguments": [
      {
        "name": "analysisId",
        "type": "string",
        "desc": "The optional analysis ID to get the status for, for example 'AU-TpxcA-iU5OvuD2FL1'"
      },
      {
        "name": "projectId",
        "type": "string",
        "desc": "The optional project ID to get the status for, for example 'AU-Tpxb--iU5OvuD2FLy'. Doesn't work with pull requests."
      },
      {
        "name": "projectKey",
        "type": "string",
        "desc": "The optional project key to get the status for, for example 'my_project'"
      },
      {
        "name": "pullRequest",
        "type": "string",
        "desc": "The optional pull request ID to get the status for, for example '5461'"
      }
    ]
  },
  {
    "name": "show_rule",
    "description": "Shows detailed information about a SonarQube rule.",
    "arguments": [
      {
        "name": "key",
        "type": "string",
        "desc": "The rule key (e.g. javascript:EmptyBlock)"
      }
    ]
  },
  {
    "name": "list_languages",
    "description": "List all programming languages supported in this SonarQube instance",
    "arguments": [
      {
        "name": "q",
        "type": "string",
        "desc": "Optional pattern to match language keys/names against"
      }
    ]
  },
  {
    "name": "get_component_measures",
    "description": "Get SonarQube measures for a project, such as ncloc, complexity, violations, coverage, etc.",
    "arguments": [
      {
        "name": "projectKey",
        "type": "string",
        "desc": "The project key"
      },
      {
        "name": "metricKeys",
        "type": "array",
        "desc": "The metric keys to retrieve (e.g. ncloc, complexity, violations, coverage)"
      },
      {
        "name": "pullRequest",
        "type": "string",
        "desc": "The pull request identifier to analyze for measures"
      }
    ]
  },
  {
    "name": "search_metrics",
    "description": "Search for available metrics",
    "arguments": [
      {
        "name": "p",
        "type": "number",
        "desc": "1-based page number (default: 1)"
      },
      {
        "name": "ps",
        "type": "number",
        "desc": "Page size. Must be greater than 0 and less than or equal to 500 (default: 100)"
      }
    ]
  },
  {
    "name": "get_duplications",
    "description": "Get duplications for a file. Requires Browse permission on file's project",
    "arguments": [
      {
        "name": "key",
        "type": "string",
        "desc": "File key (e.g. my_project:src/foo/Bar.php)"
      },
      {
        "name": "pullRequest",
        "type": "string",
        "desc": "Pull request id"
      }
    ]
  },
  {
    "name": "search_duplicated_files",
    "description": "Search for files with code duplications in a project. By default, automatically fetches all duplicated files across all pages (up to 10,000 files max).",
    "arguments": [
      {
        "name": "projectKey",
        "type": "string",
        "desc": "Project key (e.g. my_project)"
      },
      {
        "name": "pullRequest",
        "type": "string",
        "desc": "Pull request id"
      },
      {
        "name": "pageSize",
        "type": "number",
        "desc": "Optional: Number of results per page for manual pagination (max: 500). If not specified, auto-fetches all duplicated files."
      },
      {
        "name": "pageIndex",
        "type": "number",
        "desc": "Optional: Page number for manual pagination (starts at 1). If not specified, auto-fetches all duplicated files."
      }
    ]
  },
  {
    "name": "search_files_by_coverage",
    "description": "Search for files in a project sorted by coverage (ascending - worst coverage first). This tool helps identify files that need test coverage improvements.",
    "arguments": [
      {
        "name": "projectKey",
        "type": "string",
        "desc": "The project key to search in"
      },
      {
        "name": "pullRequest",
        "type": "string",
        "desc": "Pull request id to analyze"
      },
      {
        "name": "maxCoverage",
        "type": "number",
        "desc": "Only return files with coverage below this threshold (0-100)"
      },
      {
        "name": "pageIndex",
        "type": "number",
        "desc": "Page index (1-based, default: 1)"
      },
      {
        "name": "pageSize",
        "type": "number",
        "desc": "Page size (default: 100, max: 500)"
      }
    ]
  },
  {
    "name": "get_file_coverage_details",
    "description": "Get complete line-by-line coverage information for a file, including which exact lines are uncovered and which have partially covered branches. This tool helps identify precisely where to add test coverage. Use after identifying files with low coverage via search_files_by_coverage.",
    "arguments": [
      {
        "name": "key",
        "type": "string",
        "desc": "File key (e.g. my_project:src/foo/Bar.java)"
      },
      {
        "name": "pullRequest",
        "type": "string",
        "desc": "Pull request id"
      }
    ]
  },
  {
    "name": "list_pull_requests",
    "description": "List all pull requests for a project. Use this tool to discover available pull requests and their corresponding branch names before analyzing their coverage, issues, or quality. Returns the pull request key/ID and source branch for each PR, which can be used with other tools that accept a pullRequest parameter.",
    "arguments": [
      {
        "name": "projectKey",
        "type": "string",
        "desc": "Project key (e.g. my_project)"
      }
    ]
  },
  {
    "name": "get_raw_source",
    "description": "Get source code as raw text. Requires 'See Source Code' permission on file.",
    "arguments": [
      {
        "name": "key",
        "type": "string",
        "desc": "File key (e.g. my_project:src/foo/Bar.php)"
      },
      {
        "name": "pullRequest",
        "type": "string",
        "desc": "Pull request id"
      }
    ]
  },
  {
    "name": "get_scm_info",
    "description": "Get SCM information of source files. Requires See Source Code permission on file's project",
    "arguments": [
      {
        "name": "key",
        "type": "string",
        "desc": "File key (e.g. my_project:src/foo/Bar.php)"
      },
      {
        "name": "commits_by_line",
        "type": "boolean",
        "desc": "Group lines by SCM commit if value is false, else display commits for each line (true/false)"
      },
      {
        "name": "from",
        "type": "number",
        "desc": "First line to return. Starts at 1"
      },
      {
        "name": "to",
        "type": "number",
        "desc": "Last line to return (inclusive)"
      }
    ]
  },
  {
    "name": "get_system_health",
    "description": "Get the health status of SonarQube Server instance. Returns GREEN, YELLOW, or RED",
    "arguments": []
  },
  {
    "name": "get_system_status",
    "description": "Get state information about SonarQube Server. Returns status, version, and id",
    "arguments": []
  },
  {
    "name": "get_system_logs",
    "description": "Get SonarQube Server system logs in plain-text format. Requires system administration permission",
    "arguments": [
      {
        "name": "name",
        "type": "string",
        "desc": "Name of the logs to get. Possible values: access, app, ce, deprecation, es, web. Default: app"
      }
    ]
  },
  {
    "name": "ping_system",
    "description": "Ping the SonarQube Server system to check if it's alive. Returns 'pong' as plain text",
    "arguments": []
  },
  {
    "name": "get_system_info",
    "description": "Get detailed information about SonarQube Server system configuration including JVM state, database, search indexes, and settings. Requires 'Administer' permissions",
    "arguments": []
  },
  {
    "name": "create_webhook",
    "description": "Create a new webhook for the SonarQube organization or project. Requires 'Administer' permission",
    "arguments": [
      {
        "name": "name",
        "type": "string",
        "desc": "Name of the webhook"
      },
      {
        "name": "url",
        "type": "string",
        "desc": "Server endpoint that will receive the webhook payload"
      },
      {
        "name": "project",
        "type": "string",
        "desc": "The key of the project that will own the webhook"
      },
      {
        "name": "secret",
        "type": "string",
        "desc": "If provided, secret will be used as the key to generate the HMAC hex digest value"
      }
    ]
  },
  {
    "name": "list_webhooks",
    "description": "List all webhooks for the SonarQube organization or project. Requires 'Administer' permission",
    "arguments": [
      {
        "name": "project",
        "type": "string",
        "desc": "Optional project key to list project-specific webhooks"
      }
    ]
  },
  {
    "name": "list_portfolios",
    "description": "List portfolios available in SonarQube with filtering and pagination options",
    "arguments": [
      {
        "name": "enterpriseId",
        "type": "string",
        "desc": "Enterprise uuid (SonarQube Cloud only)"
      },
      {
        "name": "q",
        "type": "string",
        "desc": "Search query to filter portfolios by name"
      },
      {
        "name": "favorite",
        "type": "boolean",
        "desc": "If true, only returns favorite portfolios"
      },
      {
        "name": "draft",
        "type": "boolean",
        "desc": "If true, only returns drafts created by the logged-in user (SonarQube Cloud only)"
      },
      {
        "name": "pageIndex",
        "type": "number",
        "desc": "Index of the page to fetch (default: 1)"
      },
      {
        "name": "pageSize",
        "type": "number",
        "desc": "Size of the page to fetch"
      }
    ]
  },
  {
    "name": "list_enterprises",
    "description": "List the enterprises available in SonarQube Cloud that you have access to",
    "arguments": [
      {
        "name": "enterpriseKey",
        "type": "string",
        "desc": "Optional enterprise key to filter results"
      }
    ]
  },
  {
    "name": "search_dependency_risks",
    "description": "Search for software composition analysis issues (dependency risks) of a project, paired with releases that appear in the analyzed project, application, or portfolio.",
    "arguments": [
      {
        "name": "projectKey",
        "type": "string",
        "desc": "The project key"
      },
      {
        "name": "branchKey",
        "type": "string",
        "desc": "The branch key"
      },
      {
        "name": "pullRequestKey",
        "type": "string",
        "desc": "The pull request key"
      }
    ]
  }
]
