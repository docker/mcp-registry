name: tunnel-manager
image: knucklessg1/tunnel-manager
type: server
meta:
    category: communication
    tags:
        - communication
about:
    title: Tunnel Manager
    description: This project provides a Python-based Tunnel class for secure SSH connections and file transfers, integrated with a FastMCP server (tunnel_manager_mcp.py) to expose these capabilities as tools for AI-driven workflows. The implementation supports both standard SSH (e.g., for local networks) and Teleport's secure access platform, leveraging the paramiko library for SSH operations.
    icon: https://avatars.githubusercontent.com/u/119072828?v=4
source:
    project: https://github.com/Knuckles-Team/tunnel-manager
run:
    volumes:
        - '{{tunnel-manager.inventory}}:{{tunnel-manager.tunnel_manager_inventory}}'
config:
    description: Configure the connection to Tunnel Manager
    env:
        - name: HOST
          example: 0.0.0.0
          value: '{{tunnel-manager.host}}'
        - name: PORT
          example: "8000"
          value: '{{tunnel-manager.port}}'
        - name: TRANSPORT
          example: http
          value: '{{tunnel-manager.transport}}'
        - name: TUNNEL_INVENTORY
          example: /inventory/inventory.yaml
          value: '{{tunnel-manager.tunnel_inventory}}'
        - name: TUNNEL_INVENTORY_GROUP
          example: all
          value: '{{tunnel-manager.tunnel_inventory_group}}'
        - name: TUNNEL_PARALLEL
          example: "true"
          value: '{{tunnel-manager.tunnel_parallel}}'
        - name: TUNNEL_MAX_THREADS
          example: "9"
          value: '{{tunnel-manager.tunnel_max_threads}}'
        - name: TUNNEL_REMOTE_HOST
          example: 192.168.1.69
          value: '{{tunnel-manager.tunnel_remote_host}}'
        - name: TUNNEL_USERNAME
          example: root
          value: '{{tunnel-manager.tunnel_username}}'
        - name: TUNNEL_PASSWORD
          example: password
          value: '{{tunnel-manager.tunnel_password}}'
        - name: TUNNEL_REMOTE_PORT
          example: "22"
          value: '{{tunnel-manager.tunnel_remote_port}}'
        - name: TUNNEL_IDENTITY_FILE
          example: ~/.ssh/id_rsa
          value: '{{tunnel-manager.tunnel_identity_file}}'
        - name: TUNNEL_CERTIFICATE
          example: ~/server.cert
          value: '{{tunnel-manager.tunnel_certificate}}'
        - name: TUNNEL_PROXY_COMMAND
          example: https://proxy.com
          value: '{{tunnel-manager.tunnel_proxy_command}}'
        - name: TUNNEL_LOG_FILE
          example: ~/tunnel_log.txt
          value: '{{tunnel-manager.tunnel_log_file}}'
    parameters:
        type: object
        properties:
            host:
                type: string
            port:
                type: string
            transport:
                type: string
            tunnelinventory:
                type: string
            tunnelinventorygroup:
                type: string
            tunnelparallel:
                type: string
            tunnelmaxthreads:
                type: string
            tunnelremotehost:
                type: string
            tunnelusername:
                type: string
            tunnelpassword:
                type: string
            tunnelremoteport:
                type: string
            tunnelidentityfile:
                type: string
            tunnelcertificate:
                type: string
            tunnelproxycommand:
                type: string
            tunnellogfile:
                type: string
